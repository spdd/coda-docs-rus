
# Моя первая транзакция

В этом разделе мы отправим нашу первую транзакцию в сеть Coda. После [установки coda](../getting-started), нам нужно создать новый аккаунт  перед тем как отправлять и получать coda. Давайте сначала запустим ноду чтобы начать набирать команды.

## Запускаем ноду

Введите следующие команды для запуска и подключения к сети ноды Coda:

    coda daemon \
        -discovery-port 8303 \
        -peer /dns4/seed-one.genesis.o1test.net/tcp/10002/ipfs/12D3KooWP7fTKbyiUcYJGajQDpCFo2rDexgTHFJTxCH8jvcL1eAH \
        -peer /dns4/seed-two.genesis.o1test.net/tcp/10002/ipfs/12D3KooWL9ywbiXNfMBqnUKHSB1Q1BaHFNUzppu6JLMVn9TTPFSA

Порт и хосты (peer) указанные выше относятся к seed адресам - это начальные узел, к котором мы будем подключаться в сети для синхронизации ноды. Поскольку Coda является [peer-to-peer (одноранговым)](../glossary/#peer-to-peer) протоколом, поэтому у Coda нет центрального сервера. Если вы перенаправили свои порты (не 8303 для TCP) вам нужен дополнительный флаг к команде выше:  `-external-port <custom-TCP-port>`.

<Alert>
  
  Процесс демона должен запускаться всякий раз, когда вы запускаете команды из `coda client`, поэтому убедитесь, что вы не уничтожили его случайно.

</Alert>

Смотри [здесь](/docs/troubleshooting/) описаны общие проблемы при первом запуске узла.

## Проверка подключения

Теперь, когда мы запустили ноду и запустили демон Coda, откройте еще одну командную оболочку(терминал) и выполните следующую команду:

    coda client status

<Alert>

  На данный момент может пройти около минуты, прежде чем `coda client status` подключится к демону при первом запуске. Поэтому если вы видите `Error: daemon not running. See coda daemon`, просто немного подождите и попробуйте снова.

</Alert>



Вывод будет содержать следующие поля (показаны не все поля):

    ...
    Peers:                                         Total: 4 (...)
    ...
    Sync Status:                                   Bootstrap

Если вы видите `Sync Status: Bootstrap`, это означает что нода Coda загружается и должна синхронизироваться с остальной частью сети. Нода должна получить все необходимые данные, это займет какое-то время, наберитесь немного терпения. Когда статус синхронизации изменится на `Synced` и узел подключен к одному или более пирам (одноранговым узлам), это означает что мы полностью синхронизировали нашу ноду и подключились к сети!

## Создание новых аккаунтов

После синхронизации нашей ноды мы должны создать создадим пару открытых/закрытых ключей (public/private), чтобы мы могли подписывать транзакции и cгенерировать адрес для приема платежей. Из соображений безопасности мы должны поместить ключи в каталог(папку), доступ к которому должен быть только у вас (осталяя ключи в общедоступном месте вы рискуете потерять все coda).

Запустите одну из следующих команд, которая создаст открытый и закрытый ключи `my-wallet` и` my-wallet.pub` в каталоге `keys`:

    coda client-old generate-keypair -privkey-path keys/my-wallet 
  
    coda accounts create
    
<Alert kind="warning">

  Публичный ключ можно свободно передать кому угодно, но будьте очень осторожны с файлом закрытого ключа. Никогда не передавайте этот закрытый ключ кому-либо, так как он является эквивалентом пароля для ваших средств.

</Alert>

Вывод команды будет выглядеть примерно так:

    Keypair generated
    Public key:  4vsRCVbLm6LvUyzYWT95WaCzyi4D4UHxRpLBhMn7q2mRPgNCgRG3Jr3tDuhgQdmzbvCcBxhUwB3REpY2Dyf1NAxSSs8Q2vdJX93pT7eyqcyRU2S9UpDddDgovj46BSknNjzydKoopebp5Kva
    
Поскольку открытый ключ довольно длинный и его трудно запомнить, давайте сохраним его в [переменные среды](https://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D1%80%D0%B5%D0%B4%D1%8B):

    export CODA_PK=<public-key>

Теперь мы можем получить доступ к переменной $CODA_PK из любого места и даже из других программ. Обратите внимание, что переменная будет сохранена только для текущего сеанса командной оболочки (терминала), поэтому, если вы хотите использовать ее в будущем, вы можете добавить ее в свой профиль командной оболочки `~/.profile` или `~/.bash_profile`.

## Запросить coda (тестовые)

Для того чтобы отправить нашу первую транзакцию, мы сначала должны получить немного тестовых coda. Перейдите на наш [Coda Discord сервер](https://bit.ly/CodaDiscord) присоединитесь к каналу `#faucet` и попросите бота Tiny выслать вам немного coda (обычно он высылает 100 тестовых coda). Пример как сделать запрос у Tiny:

    $request <public-key>
    
Как только Tiny одобрит ваш запрос, следите за Discord каналом, чтобы увидеть, когда транзакция будет одобрена. Наберитесь терпения ваши тестовые coda прийти через несколько минут.

Можно проверить баланс, чтобы убедиться что мы получили coda, выполнив следующую команду, передав наш открытый ключ:

    coda client get-balance -public-key $CODA_PUBLIC_KEY

Вы можете увидеть `No account found at that public_key (zero balance)`. Наберитесь терпения! В зависимости от трафика в сети, до завершения транзакции может пройти несколько блоков.

Пока вы ждете, взгляните на логи своего coda демона для новых блоков, которые будут сгенерированы. Выполните следующую команду, чтобы увидеть текущий номер блока:

    coda client status

## Совершаем платеж
